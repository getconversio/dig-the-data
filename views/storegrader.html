{% extends 'layouts/_base.html' %}
{% block styles %}
<link rel="stylesheet" href="/css/storegrader.css">
{% endblock %}
{% block content %}
<div class="container" style="display:none;">
  <div class="row">
    <div class="col-lg-12 text-center">
      <div id="intro"></div>
      <button type="button" id="show-totals" class="btn btn-default">Cool, Now Show Me a Graph</button>
    </div>
  </div>
  <div id="totals-area" style="display:none;">
    <div class="row">
      <div class="col-lg-12">
        <div id="bar-container">
          <svg class="bar-chart" width="100%" height="100%"></svg>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 text-center">
        <div id="controls" class="should-fade">
          <p id="data-description" class="small text-center"></p>
          <form class="form-inline">
            <div class="form-group" id="data-selection">
              <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-default active">
                  <input type="radio" name="dataSelection" autocomplete="off" value="storeCount" checked>
                  Active Stores
                </label>
                <label class="btn btn-default" >
                  <input type="radio" name="dataSelection" autocomplete="off" value="storeRevenue">
                  Revenue
                </label>
                <label class="btn btn-default">
                  <input type="radio" name="dataSelection" autocomplete="off" value="storeVolume">
                  Orders
                </label>
              </div>
            </div>
            <div class="form-group">
              <select id="data-view" class="form-control">
                <option value="" selected>Grand Total</option>
                <option value="Median">A Typical Store</option>
              </select>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div id="line-container">
          <svg class="line-chart" width="100%" height="100%"></svg>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="tooltip" style="display:none"></div>
<div id="loader"><div class="loading">Loading data... <div id="progress">0%</div></div></div>
{% endblock %}
{% block scripts %}
{% raw %}
<script id="intro-template" type="text/nunjucks">
  <div class="row">
    <div class="col-sm-6 col-sm-offset-3">
      <p>There are {{ industryCount }} industries in StoreGrader and {{ storeCount }} active stores.
      Each industry currently has {{ storeCountAvg | round }} stores on average.</p>
      <p>{{ volumeSum | formatNumber }} orders were placed on these stores during July 2017,
      and their total revenue was {{ revenueSum | formatCurrency('USD') }}.
      The average value of each purchase was thus {{ aov | formatCurrency('USD') }}.</p>
    </div>
  </div>
</script>
{% endraw %}
<script src="/js/storegrader.js"></script>
{% endblock %}
